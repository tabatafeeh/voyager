<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="img/logo.png">
  <link rel="stylesheet" href="css/profile.css">

  <title>Profile</title>
</head>

<body>
  <div class="modal-bg" id="modalBg">
    <div class="modal">
      <img src="img/close.svg" alt="" onclick="fecharModal()" style="cursor: pointer;">
      <div class="content">
        <img src="img/astronaut.gif" alt="">
        <br><br><br><br>
        <h1 id="text">Don't know what image you want to download?</h1>
        <br>
        <!-- <h3>I will help you</h3> -->
        <img src="" id="imagem">
        <img id="gifzin" src="https://media.giphy.com/media/TGKn4dC1ZD6EMwE21o/giphy.gif" alt="">
        <button class="suggest" id="sugere" onclick="sugerir()">SUGGEST ME AN IMAGE</button>
        <button class="suggest" id="other" onclick="sugerir()" style="display: none">I WANT ANOTHER</button>
        <button class="like" id="like" onclick="liked()" style="display: none">I LIKE IT ❤</button>
      </div>
    </div>
  </div>
  <div id="left-menu">
    <img src="https://user-images.githubusercontent.com/49129260/99889036-66d1a600-2c30-11eb-8115-cf5e8b36e30e.png"
      alt="" id="profileImg" style="display: none;">
    <p id="nome" style="display: none;">Fulano de Tal</p>
    <br>
    <ul style="display: none;" id="list">
      <li><a href="#"> GALLERY</a></li>
      <li><a href="#suggest" onclick="abreModal()">SUGGEST ME</a></li>
      <li><a href="#">FAVORITES</a></li>
      <li><a href="#">SETTINGS</a></li>
    </ul>
  </div>

  <div id="gallery">
    <div class="content" id="content">
      <div class="item">
        <img class="images" id="images" src="img/gallery/0.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart0">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/15.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart15" id="heart2">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/1.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart1">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/2.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart2">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/3.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart3">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/4.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart4">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/5.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart5">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/6.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart6">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/7.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart7">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/8.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart8">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/9.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart9">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/10.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart10">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/11.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart11">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/12.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart12">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/13.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart13">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/14.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart14">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/16.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart16">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/17.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart17">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/18.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart18">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/19.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart19">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/20.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart20">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/21.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart21">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/22.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart22">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/23.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart23">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/24.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart24">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/25.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart25">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/26.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart26">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/27.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart27">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/28.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart28">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/29.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart29">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/30.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart30">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div class="item">
        <img class="images" id="images" src="img/gallery/31.jpg" alt="">
        <div class="btns">
          <img src="img/like.svg" class="heart" id="heart31">
          <img src="img/share.svg" class="share">
          <img src="img/download.svg" class="download">

        </div>
      </div>
      <div href="#" class="more">
        <!-- <img src="img/arrow.png" alt=""> -->
      </div>
      <div id="notificacao" style="display: none;">
        <img src="img/like.svg" alt="" class="heart-not">
        <h1>Image is saved!</h1>
      </div>
    </div>
  </div>


  <script>
    // efeito de aparecer os itens do menu
    setTimeout(function () {
      profileImg.style = 'display: block;';
      setTimeout(function () {
        nome.style = 'display: block';
        setTimeout(function () {
          list.style = 'display: block';
        }, 300);
      }, 380);
    }, 380);
    

    var classe = document.getElementsByClassName('heart');
    // event listener pra cada elemento com a classe heart

    for(let j = 0; j < classe.length; j++) {
      classe[j].addEventListener('click', function() {

        for(let i = 0; i < 31; i++) {
          // identificacao recebe 'heart[i]'
          identificacao = `heart${i}`; 
          //  se o id do elemento com a classe hear for igual à variavel
          //  identificacao, o console mostra o caminho da imagem correspondente
          if(classe[j].id == identificacao) {
            console.log(`img/gallery/${i}.jpg`);
            // mostra que a imagem foi salva
            notificacao.style.display = 'block';
            setTimeout(function () {
              notificacao.style.display = 'none';
            }, 2200);
            break;
          }
        }
      });
    }

    function writer(element) {
      const text = element.innerHTML.split('');
      element.innerHTML = '';
      text.forEach((letter, i) => {
        setTimeout(() => element.innerHTML += letter, 50 * i)
      });
    }

    // funcao para abrir o modal
    function abreModal() {
      modalBg.style.display = 'block';

      const title = document.querySelector('h1');
      writer(title);
    }

    // funcao para fechar o modal
    function fecharModal() {
      modalBg.style.display = 'none';
      imagem.style.display = 'none';
      other.style.display = 'none';
      like.style.display = 'none';
      sugere.style.display = 'block';
      text.innerHTML = "Don't know what image you want to download?";
    }

    function sugerir() {
      imagem.style.display = 'none';
      other.style.display = 'none';
      like.style.display = 'none';
      sugere.style.display = 'block';
      text.innerHTML = "I'm choosing one...";
      gifzin.style.display = 'block';

      const title = document.querySelector('h1');
      writer(title);

      setTimeout(function () {
        // gera imagem aleatoria
        var num = Math.round(Math.random() * 31);
        console.log(num);

        imagem.src = `img/gallery/${num}.jpg`;
        imagem.style.display = 'block';

        text.style.marginTop = '-30px';
        text.innerHTML = "What about that?";

        other.style.display = 'block';
        like.style.display = 'block';
        sugere.style.display = 'none';
        gifzin.style.display = 'none';

        writer(title);

      }, 3000);

    }

    function liked() {

    }

    function buttons() {

    }

    // fecha o modal caso a tecla clicada seja ESC
    document.querySelector('body').addEventListener('keydown', function (event) {
      if (event.keyCode == 27) {
        fecharModal();
      }
    });
    

  </script>

</body>

</html>